<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction to ramlegacy • ramlegacy</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to ramlegacy">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ramlegacy</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/ramlegacy.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/kshtzgupta1/ramlegacy">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Introduction to ramlegacy</h1>
                        <h4 class="author">Carl Boettiger &amp; Kshitiz Gupta</h4>
            
            <h4 class="date">2018-12-18</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/kshtzgupta1/ramlegacy/blob/master/vignettes/ramlegacy.Rmd"><code>vignettes/ramlegacy.Rmd</code></a></small>
      <div class="hidden name"><code>ramlegacy.Rmd</code></div>

    </div>

    
    
<div id="ram-legacy-stock-assessment-database" class="section level2">
<h2 class="hasAnchor">
<a href="#ram-legacy-stock-assessment-database" class="anchor"></a>RAM Legacy Stock Assessment Database</h2>
<p>From the database’s <a href="www.ramlegacy.org">website</a>:</p>
<p>“The RAM Legacy Stock Assessment Database is a compilation of stock assessment results for commercially exploited marine populations from around the world. It is inspired by Dr. Ransom A. Myers’ original <a href="http://www.mathstat.dal.ca/~myers/welcome.html">stock-recruitment database</a>, which is no longer being updated.”</p>
<p>Different versions of the database are available in compressed (zipped) form on the <a href="www.ramlegacy.org">website</a> in two formats: <strong>Access</strong> (Microsoft Office Access 2007 file format) and <strong>Excel</strong> (Microsoft Excel Open XML Format Spreadsheet). As of November 2018 the available versions are 1.0, 2.0, 2.5, 3.0, 4.3.</p>
</div>
<div id="about-the-package" class="section level2">
<h2 class="hasAnchor">
<a href="#about-the-package" class="anchor"></a>About the package</h2>
<p>The goal of <code>ramlegacy</code> is to cache the specified version/versions of the RAM Legacy Stock Assessment Excel Database and this way save time and effort spent in re-downloading different versions of the database as part of any future analysis involving the data. The package also supports reading in any specified cached version of the database into the user’s environment through <code><a href="https://www.rdocumentation.org/packages/base/topics/library">library(ramlegacy)</a></code> and a dedicated function called <code><a href="https://www.rdocumentation.org/packages/ramlegacy/topics/load_ramlegacy">load_ramlegacy()</a></code>. The user can always view the location to which the database is cached and read from by running <code><a href="https://www.rdocumentation.org/packages/ramlegacy/topics/ram_dir">ram_dir()</a></code> and specifying its version argument. This vignette will outline a few more details about these functions and the package that will hopefully make <code>ramlegacy</code> easy to use.</p>
</div>
<div id="package-loading" class="section level2">
<h2 class="hasAnchor">
<a href="#package-loading" class="anchor"></a>Package loading</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Upon installation no versions are present locally so ramlegacy</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(ramlegacy)</code></pre></div>
<p>After installation of the package when <code><a href="https://www.rdocumentation.org/packages/base/topics/library">library(load_ramlegacy)</a></code> is called for the first time <code>ramlegacy</code> checks whether any version of the database exists in the user’s application data directory whose path is given by <code><a href="https://www.rdocumentation.org/packages/ramlegacy/topics/ram_dir">ram_dir()</a></code>. If no version of the database is found then the user is informed about it and prompted to download a version by calling <code><a href="https://www.rdocumentation.org/packages/ramlegacy/topics/download_ramlegacy">download_ramlegacy()</a></code>.</p>
<p>Subsequent calls to <code><a href="https://www.rdocumentation.org/packages/base/topics/library">library(ramlegacy)</a></code> read in and load the database in the user’s global environment. Which version is loaded depends upon which versions have been downloaded and are present locally and whether <code><a href="https://www.rdocumentation.org/packages/base/topics/library">library(ramlegacy)</a></code> is called in an interactive session or non-interactive session. Specifically, if only a single version is present locally then calling <code><a href="https://www.rdocumentation.org/packages/base/topics/library">library(ramlegacy)</a></code> will load it into the user’s global environment irrespective of whether it’s the latest version or an older version. If, however, multiple versions of the database are present, the latest version among them, then <code><a href="https://www.rdocumentation.org/packages/base/topics/library">library(ramlegacy)</a></code> guesses that the user wants to load the latest version and so reads it in. It’s unable to do this guessing if the latest version is not present among the multiple versions that are found locally. In such a case, if R is running interactively then <code><a href="https://www.rdocumentation.org/packages/base/topics/library">library(ramlegacy)</a></code> will prompt the user to select which older version to read otherwise, in such a situation <code><a href="https://www.rdocumentation.org/packages/base/topics/library">library(ramlegacy)</a></code> cannot select which to version to load and directs the user to use <code><a href="https://www.rdocumentation.org/packages/ramlegacy/topics/load_ramlegacy">load_ramlegacy()</a></code> to load the desired version. The decision tree-diagram below depicts the behavior of <code><a href="https://www.rdocumentation.org/packages/base/topics/library">library(ramlegacy)</a></code>:</p>
<div class="figure">
<img src="tree1.png" alt="Behavior of library(ramlegacy)" style="width:100.0%"><p class="caption">Behavior of library(ramlegacy)</p>
</div>
</div>
<div id="download_ramlegacy" class="section level2">
<h2 class="hasAnchor">
<a href="#download_ramlegacy" class="anchor"></a>download_ramlegacy</h2>
<p>You can download any available version of the RAM Legacy Stock Assessment Excel Database through <code><a href="https://www.rdocumentation.org/packages/ramlegacy/topics/download_ramlegacy">download_ramlegacy()</a></code> and specifying the version argument:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># download version 1.0</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/ramlegacy/topics/download_ramlegacy">download_ramlegacy</a></span>(<span class="dt">version =</span> <span class="st">"1.0"</span>)

<span class="co"># download version 2.0</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/ramlegacy/topics/download_ramlegacy">download_ramlegacy</a></span>(<span class="dt">version =</span> <span class="st">"2.0"</span>)

<span class="co"># download version 2.5</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/ramlegacy/topics/download_ramlegacy">download_ramlegacy</a></span>(<span class="dt">version =</span> <span class="st">"2.5"</span>)

<span class="co"># download version 3.0</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/ramlegacy/topics/download_ramlegacy">download_ramlegacy</a></span>(<span class="dt">version =</span> <span class="st">"3.0"</span>)

<span class="co"># download version 4.3</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/ramlegacy/topics/download_ramlegacy">download_ramlegacy</a></span>(<span class="dt">version =</span> <span class="st">"4.3"</span>)</code></pre></div>
<p>If version is not specified then <code>download_ramlegacy</code> will default to downloading the latest version of the database:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># if version not specified then defaults to latest version (currently 4.3)</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/ramlegacy/topics/download_ramlegacy">download_ramlegacy</a></span>()</code></pre></div>
<p>To enable caching behavior, before downloading a the specified version <code>download_ramlegacy</code> checks whether that version has already been downloaded. If it is then <code>download_ramlegacy</code> gives the user the option to either download again and overwrite the existing version or not download and just exit the function. After downloading the database download_ramlegacy caches it by converting it to an RDS object which can then be read in through calling <code><a href="https://www.rdocumentation.org/packages/ramlegacy/topics/load_ramlegacy">load_ramlegacy()</a></code> or <code><a href="https://www.rdocumentation.org/packages/base/topics/library">library(ramlegacy)</a></code>. <code>ramlegacy</code> package is designed to provide robust access to the RAM Legacy Stock Assessment data. As such, in case the <a href="www.ramlegacy.org">database’s website</a> is down <code>download_ramlegacy</code> provides the user with the option to download the data from a backup github data <a href="https://github.com/kshtzgupta1/ramlegacy-assets">repository</a>. Currently, backups of all available versions (1.0, 2.0, 2.5, 3.0, 4.3) are available.</p>
<p><code>download_ramlegacy</code> also has two other arguments: <code>ram_path</code> and <code>ram_url</code>. <code>ram_path</code> has been permanently set to the path provided by <code><a href="https://www.rdocumentation.org/packages/ramlegacy/topics/ram_dir">ram_dir(vers = "version")</a></code> and <code>ram_url</code> is fixed to the URL of the database website. Please <strong>do not modify</strong> or <strong>pass in any values</strong> to these two parameters. Also, please note that <code>download_ramlegacy</code> is not a vectorized function so please don’t pass in a vector of version numbers to its <code>version</code> argument.</p>
</div>
<div id="load_ramlegacy" class="section level2">
<h2 class="hasAnchor">
<a href="#load_ramlegacy" class="anchor"></a>load_ramlegacy</h2>
<p>Use <code>load_ramlegacy</code> to read in all the dataframes (sheets) present in the desired version of the database. Make sure that the version you want to load was downloaded and is already present locally otherwise <code>load_ramlegacy</code> will throw an error.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># load in version 3.0</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/ramlegacy/topics/load_ramlegacy">load_ramlegacy</a></span>(<span class="dt">version =</span> <span class="fl">3.0</span>)</code></pre></div>
<p>Also, note that like <code>download_ramlegacy</code>, <code>load_ramlegacy</code> is not a vectorized function so please don’t pass in a vector of version numbers to its <code>version</code> argument. Similar, to <code>download_ramlegacy</code>, <code>load_ramlegacy</code> has a <code>path</code> argument which has been permanently set to <code><a href="https://www.rdocumentation.org/packages/ramlegacy/topics/ram_dir">ram_dir(vers = "version")</a></code>. Consequently, please <strong>do not modify</strong> or <strong>pass in any values</strong> to <code>path</code>.</p>
</div>
<div id="ram_dir" class="section level2">
<h2 class="hasAnchor">
<a href="#ram_dir" class="anchor"></a>ram_dir</h2>
<p>To see the path where the specified <em>version</em> of database was downloaded on the user’s computer, the user can call <code>ram_dir(vers = *version*)</code>. Note that this is also the location from which <code>load_ramlegacy</code> reads in the database.</p>
<p>For example, to see where version 4.3 of the database was downloaded you can call:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># view the path to which version 4.3 of the database was cached</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/ramlegacy/topics/ram_dir">ram_dir</a></span>(<span class="dt">vers =</span> <span class="st">'4.3'</span>)</code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#ram-legacy-stock-assessment-database">RAM Legacy Stock Assessment Database</a></li>
      <li><a href="#about-the-package">About the package</a></li>
      <li><a href="#package-loading">Package loading</a></li>
      <li><a href="#download_ramlegacy">download_ramlegacy</a></li>
      <li><a href="#load_ramlegacy">load_ramlegacy</a></li>
      <li><a href="#ram_dir">ram_dir</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Kshitiz Gupta, Carl Boettiger.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
